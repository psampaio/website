---
import {Image} from "astro:assets";
import {marked} from "marked";
import {reader} from "../reader";

import Layout from "../layouts/TitleLayout.astro";

import type {OwnerInfoProps} from "../types";
import Section from "../components/Section.astro";

const ownerInfo = await reader.singletons.ownerInfo.read();
const {name, about, large_image} = ownerInfo as OwnerInfoProps;

export const prerender = true;
---

<Layout>
    <Section text="About Me">
        <div class="flex flex-col items-center gap-12 md:flex-row md:gap-8">
            <div class="w-auto text-base text-neutral mb-8 md:pr-5" set:html={marked(await about())}>
            </div>
            <div class="h-80 w-64 flex-shrink-0 rotate-[5deg] bg-white p-4 md:rotate-[7deg]">
                {large_image && (
                        <Image class="object-cover"
                               src={large_image}
                               width="260"
                               height="260"
                               alt={name}/>
                )}
            </div>
        </div>
    </Section>
</Layout>